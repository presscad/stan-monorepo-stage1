##
# This file should modify the following variables
# as appropriate:
#   - CFLAGS
#   - CFLAGS_GTEST
#   - OPT
#   - EXE
# 
# Additionally, set the following variables to build
# demo/gm using the Microsoft Visual Studio compiler.
#   - CC_GM
#   - CFLAGS_GM
#   - OUTPUT_OPTION_GM
##

EXE = .exe
CFLAGS_GTEST += -DGTEST_HAS_PTHREAD=0
ifeq (g++,$(CC_TYPE))
  CFLAGS += -std=gnu++0x
  CFLAGS += -Wall
  CFLAGS += -Wno-unused-function
  CFLAGS += -Wno-uninitialized
  O = 3
  #LDFLAGS += -static-libgcc 
  #LDFLAGS += -static-libstdc++
  #PCH = .gch
endif
ifeq (clang++,$(CC_TYPE))
  #PCH = .pch
endif

CC_GM = cl
CFLAGS_GM = /EHsc /I src /I lib
OUTPUT_OPTION_GM = /OUT:$@
LDFLAGS_GM = /link

CC_STANC = cl
CFLAGS_STANC = /EHsc /I src /I lib
OUTPUT_OPTION_STANC = /OUT:$@
LDFLAGS_STANC = /link


UNIT_TESTS_TO_EXCLUDE := test/agrad/matrix test/gm/parser 
UNIT_TESTS_TO_EXCLUDE += $(subst _test.cpp,,$(shell cd src; find test/agrad/distributions/multivariate -type f -name '*_test.cpp'))
UNIT_TESTS_TO_EXCLUDE += test/agrad/error_handling
UNIT_TESTS_TO_EXCLUDE += test/file_includes/stan test/file_includes/stan_gm
UNIT_TESTS_TO_EXCLUDE += test/file_includes/stan_agrad_matrix
UNIT_TESTS_TO_EXCLUDE += test/file_includes/stan_gm_parser


BUGS_EXAMPLES_TO_EXCLUDE := models/bugs_examples/vol1/inhalers/inhalers
BUGS_EXAMPLES_TO_EXCLUDE += models/bugs_examples/vol2/birats/birats
BUGS_EXAMPLES_TO_EXCLUDE += models/bugs_examples/vol2/jaws/jaws
BUGS_EXAMPLES_TO_EXCLUDE += models/bugs_examples/vol2/mvn_orange/mvn_orange
BUGS_EXAMPLES_TO_EXCLUDE += models/bugs_examples/vol3/camel/camel
BUGS_EXAMPLES_TO_EXCLUDE += models/bugs_examples/vol3/camel/camel2


